/*
    This is the first script that is executed by the push workflows (to main and release branch)
*/

-- View dbo.ImageScanVulnerabilityAggregation is created in a later script, and uses WITH SCHEMABINDING
-- This will prevent the columns in source tables from being modified, e.g. changing length on nullability
-- We therefore drop the view to prevent any ALTERs in source tables from failing
IF EXISTS(select 1 from sys.views where object_id=OBJECT_ID('dbo.ImageScanVulnerabilityAggregation'))
BEGIN
	DROP VIEW dbo.ImageScanVulnerabilityAggregation
END
