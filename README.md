# radix-vulnerability-scanner

*WORK IN PROGRESS*

*describe how github actions aquires an access token used to deploy ARM and push images*

## Required permissions for deploying ARM template
- **Reader and Data Access** to the storage account for audit logs and vulnerability assessments
- **Contributor** in the resource group where the server and database is created
- **Get** permissions to the key-vault secret containing the SQL admin password

## Database permissions


Two roles; radix-reader and radix-writer
- radixreader grants SELECT permissions to tables and views, and stored procedures the performs read operations
- radixwriter grants INSERT,UPDATE and DELETE permissions to tables, and to stored procedures that permforms write operations

Create SQL logins and DB users and add user as member of one of the above roles

Connect to master database and create a login
``` sql
CREATE LOGIN [radix-scanner-writer]
WITH PASSWORD = '<Strong_Password_Goes_Here>';
```


Connect to the radix-vulnerability-scan database.

Create a database user mapped to the login created in previous step
``` sql
CREATE USER [radix-scanner-writer]
FROM LOGIN [radix-scanner-writer]
```

Add the database user to the required role
``` sql
ALTER ROLE radixwriter ADD MEMBER [radix-scanner-writer];
```